# Railway Configuration for FPL Agent
# https://docs.railway.app/reference/config-as-code

[build]
# Use Dockerfile for Playwright support
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
# Number of instances
numReplicas = 1

# Start command - runs the built-in scheduler daemon
# The scheduler handles all scheduling internally:
# - Daily price check at 01:30 UTC
# - Preparation run 48h before deadline (analysis only)
# - Final execution 2h before deadline (autonomous execution)
startCommand = "python main.py schedule"

# Restart policy - always restart to keep scheduler running
restartPolicyType = "ALWAYS"
restartPolicyMaxRetries = 10

# No health check needed for scheduler daemon
healthcheckPath = ""
